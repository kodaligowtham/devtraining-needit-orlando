<?xml version="1.0" encoding="UTF-8"?><record_update table="sysauto_script">
    <sysauto_script action="INSERT_OR_UPDATE">
        <active>true</active>
        <business_calendar/>
        <condition/>
        <conditional>false</conditional>
        <entered_time>1970-01-01 00:00:00</entered_time>
        <name>Find Overdue NeedIt Tasks</name>
        <run_as display_value="System Administrator">6816f79cc0a8016401c5a33be04be441</run_as>
        <run_as_tz/>
        <run_dayofmonth>1</run_dayofmonth>
        <run_dayofweek>1</run_dayofweek>
        <run_period/>
        <run_start>2020-04-15 04:53:02</run_start>
        <run_time>1970-01-01 02:35:00</run_time>
        <run_type>daily</run_type>
        <script><![CDATA[//Get today's Time and Date

var rightNow = new GlideDateTime();
gs.info("Gowtham :" +rightNow);
//Query the Db for the needit tasks with due date field values older the the current time .Only return the Neeit task records that do not have the state field value Closed Complete

var overdueNITasks = new GlideRecord('x_58872_needit_needit_task');
overdueNITasks.addQuery('due_date','<=',rightNow);
overdueNITasks.addQuery('state','!=',3);
overdueNITasks.query();

//Write Log message for each overdue Needit task record

while(overdueNITasks.next()){
	gs.info("Gowtham inside while");
	gs.info("Gowtham Overdue Needit Task record = " + overdueNITasks.number);
	gs.eventQueue('x_58872_needit.overdueNeedItTask',overdueNITasks,overdueNITasks.number,gs.getUserName());
}]]></script>
        <sys_class_name>sysauto_script</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-04-15 05:10:46</sys_created_on>
        <sys_id>dcd3ddf30740149001d4f03c7c1ed058</sys_id>
        <sys_mod_count>12</sys_mod_count>
        <sys_name>Find Overdue NeedIt Tasks</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sysauto_script_dcd3ddf30740149001d4f03c7c1ed058</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-04-15 09:36:43</sys_updated_on>
        <time_zone/>
        <upgrade_safe>false</upgrade_safe>
    </sysauto_script>
</record_update>
